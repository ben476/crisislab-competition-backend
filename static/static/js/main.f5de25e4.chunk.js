(this.webpackJsonpadmin_frontend=this.webpackJsonpadmin_frontend||[]).push([[0],{174:function(e,t,n){},241:function(e,t,n){},300:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(18),i=n.n(s),c=(n(241),n(17)),o=n(15),l=n.n(o),d=n(24),j=n(6),u=n(351),b=n(356),x=n(74),h=n(352),p=n(354),f=n(343),O=n(309),m=n(310),g=n(311),v=n(350),w=n(348),y=n(357),k=n(162),S=n(349),A=n(90),E=n(134),C=n.n(E),T=n(133),I=n.n(T),N=n(136),P=n.n(N),U=n(135),q=n.n(U),L=n(353),D=n(55),M=n(23),B=n(82),z=n(11),F=n(12),G=n(91),W=n(304),_=n(345),Z=n(306),H=n(344),R=n(111),J=n(305),Q=n(153),V=n(190),K=n.n(V),X=n(191),Y=n.n(X),$=n(3),ee=Object(k.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},title:{flexGrow:1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));function te(e){ee();console.log("render overview");var t=r.a.useState({}),n=Object(j.a)(t,2),a=n[0],s=n[1],i=r.a.useState(0),o=Object(j.a)(i,2),u=o[0],b=o[1],h=r.a.useState([]),p=Object(j.a)(h,2),O=p[0],m=p[1],g=window.callAPI;return r.a.useEffect((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("config","GET");case 2:t=e.sent,n=t.success,a=t.json,n&&(s(a.config),b(a.timestamp));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.useEffect((function(){e.setActiveTab(4)}),[]),console.log("config",a),Object($.jsx)(f.a,{in:!0,children:Object($.jsxs)("div",{children:[Object($.jsxs)(A.a,{variant:"body1",children:["Last updated: ",new Date(u).toTimeString()]}),Object($.jsx)(x.a,{onClick:function(){window.callAPI("config","POST",{config:JSON.stringify(a)},"Config saved")},color:"primary",variant:"contained",style:{marginBlock:5},startIcon:Object($.jsx)(K.a,{}),disabled:0!==window.user.permissions.config,children:"save config"}),Object($.jsx)(A.a,{variant:"body1",style:{marginBlock:5},children:"Note: Updates may take up to 10 seconds to come into effect."}),Object($.jsxs)(H.a,{container:!0,spacing:3,children:[Object($.jsx)(H.a,{item:!0,xs:6,children:Object($.jsxs)(R.a,{style:{padding:20,height:"100%"},children:[Object($.jsx)(A.a,{variant:"h5",children:"Quakes and Datacast:"}),Object($.jsxs)("div",{style:{marginBlock:20,height:"auto"},children:[Object($.jsx)(A.a,{variant:"h6",style:{marginBottom:"-5px"},children:"Datacast:"}),Object($.jsx)(W.a,{control:Object($.jsx)(J.a,{checked:"client"===a.recieveMode,onChange:function(e){return t="recieveMode",n=e.target.checked?"client":"server",s(Object(c.a)(Object(c.a)({},a),{},Object(F.a)({},t,n))),void(!t in O&&m([].concat(Object(z.a)(O),[t])));var t,n},name:"checkedB",color:"primary"}),label:"Use proxy server",style:{width:"100%",marginTop:5}}),Object($.jsx)(G.a,{component:"fieldset",children:Object($.jsxs)(_.a,{children:[Object($.jsx)(W.a,{control:Object($.jsx)(Q.a,{required:!0,value:a.proxyServerIP,inputProps:{style:{textAlign:"right"}},style:{width:"auto"},onChange:function(e){return s((function(t){return Object(c.a)(Object(c.a)({},t),{},{proxyServerIP:e.target.value})}))}}),labelPlacement:"start",label:"Proxy server IP:"}),Object($.jsx)(W.a,{control:Object($.jsx)(Q.a,{required:!0,value:a.proxyServerPort,inputProps:{style:{textAlign:"right"}},onChange:function(e){return s((function(t){return Object(c.a)(Object(c.a)({},t),{},{proxyServerPort:parseInt(e.target.value)})}))}}),labelPlacement:"start",label:"Proxy server port:"}),Object($.jsx)(W.a,{control:Object($.jsx)(Q.a,{required:!0,value:a.serverPort,inputProps:{style:{textAlign:"right"}},onChange:function(e){return s((function(t){return Object(c.a)(Object(c.a)({},t),{},{serverPort:parseInt(e.target.value)})}))}}),labelPlacement:"start",label:"Server port:"})]})})]}),Object($.jsxs)("div",{style:{marginBlock:20,height:"auto"},children:[Object($.jsx)(A.a,{variant:"h6",style:{marginBottom:"5px"},children:"Quakes:"}),Object($.jsx)(G.a,{component:"fieldset",children:Object($.jsxs)(_.a,{children:[Object($.jsx)(W.a,{control:Object($.jsx)(Q.a,{required:!0,value:a.threshold,inputProps:{style:{textAlign:"right"}},style:{width:"auto"},onChange:function(e){return s((function(t){return Object(c.a)(Object(c.a)({},t),{},{threshold:parseInt(e.target.value)})}))}}),labelPlacement:"start",label:"Threshold:"}),Object($.jsx)(W.a,{control:Object($.jsx)(Q.a,{required:!0,value:a.detrendTime,inputProps:{style:{textAlign:"right"}},onChange:function(e){return s((function(t){return Object(c.a)(Object(c.a)({},t),{},{detrendTime:parseInt(e.target.value)})}))}}),labelPlacement:"start",label:"Detrend time:"})]})})]})]})}),Object($.jsx)(H.a,{item:!0,xs:6,children:Object($.jsxs)(R.a,{style:{padding:20,height:"100%"},children:[Object($.jsx)(A.a,{variant:"h5",children:"Alerts:"}),Object($.jsxs)("div",{style:{marginBlock:20,height:"auto"},children:[Object($.jsxs)(G.a,{component:"fieldset",children:[Object($.jsx)(Z.a,{component:"legend",children:"Notification details"}),Object($.jsxs)(_.a,{children:[Object($.jsx)(W.a,{control:Object($.jsx)(Q.a,{required:!0,value:a.notificationTitle,inputProps:{style:{textAlign:"right"}},style:{marginLeft:10,width:300},onChange:function(e){return s((function(t){return Object(c.a)(Object(c.a)({},t),{},{notificationTitle:e.target.value})}))}}),labelPlacement:"start",label:"Notification title:"}),Object($.jsx)(W.a,{control:Object($.jsx)(Q.a,{required:!0,value:a.notificationBody,inputProps:{style:{textAlign:"right"}},style:{marginLeft:10,width:300},onChange:function(e){return s((function(t){return Object(c.a)(Object(c.a)({},t),{},{notificationBody:e.target.value})}))}}),labelPlacement:"start",label:"Notification body:"}),Object($.jsx)(W.a,{control:Object($.jsx)(Q.a,{required:!0,value:a.notificationImage,inputProps:{style:{textAlign:"right"}},style:{marginLeft:10,width:300},onChange:function(e){return s((function(t){return Object(c.a)(Object(c.a)({},t),{},{notificationImage:e.target.value})}))}}),labelPlacement:"start",label:"Notification image:"})]})]}),Object($.jsx)(x.a,{onClick:function(){window.callAPI("alert","GET",{},"Alert sent")},color:"primary",variant:"outlined",style:{marginTop:20},disabled:0!==window.user.permissions.live,startIcon:Object($.jsx)(Y.a,{}),children:"Test Alert Notification"})]})]})})]})]})})}var ne=n(107),ae=n.n(ne),re=n(196),se=n.n(re),ie=n(197),ce=n.n(ie),oe=n(193),le=n.n(oe),de=n(194),je=n.n(de),ue=n(195),be=n.n(ue),xe=n(199),he=n.n(xe),pe=n(355),fe=n(22),Oe=(n(174),n(198)),me=n.n(Oe),ge=n(106),ve=n(200),we=n.n(ve);function ye(e){var t=r.a.useState({EHZ:[],ENE:[],ENN:[],ENZ:[]}),n=Object(j.a)(t,2),a=n[0],s=n[1],c=r.a.useState({average:[],offset:[],threshold:[]}),o=Object(j.a)(c,2),l=o[0],d=o[1],u=r.a.useState([]),b=Object(j.a)(u,2),h=b[0],p=b[1],O=r.a.useState(0),m=Object(j.a)(O,2),g=m[0],v=m[1],w=r.a.useState(!1),y=Object(j.a)(w,2),k=y[0],S=y[1],E=r.a.useState(2e3),C=Object(j.a)(E,2),T=(C[0],C[1]),I=Object(pe.a)(),N=Object(j.a)(I,2),P=N[0],U=N[1],q=Object(pe.a)(),L=Object(j.a)(q,2),D=L[0],M=L[1];r.a.useEffect((function(){e.setActiveTab(3),window.lastMessage=0;var t=Object(ge.io)(window.location.origin,{extraHeaders:{Authorization:window.user.token}});return t.emit("listen raw"),t.on("raw data",(function(e){i.a.unstable_batchedUpdates((function(){e.timestamp-window.lastMessage<1e5&&p((function(t){var n=t.slice(0,79);return n.unshift(e.timestamp),n})),v(Date.now()-e.timestamp),T(e.detrendTime),S(e.shaking),d((function(t){for(var n={},a=0,r=["average","offset","threshold"];a<r.length;a++){var s=r[a];n[s]=t[s].filter((function(t){return t.time>e.timestamp-1e5})),n[s].push({time:e.timestamp,value:("threshold"===s?e.threshold:e[s])/1e3})}return n})),s((function(t){for(var n,a={},r=0,s=Object.keys(e.data);r<s.length;r++){var i;for(i in a[n=s[r]]=t[n].filter((function(t){return t.time>e.timestamp-2e4})),e.data[n])a[n].push({time:e.timestamp+10*i,value:e.data[n][i]/1e3})}return a}))})),window.lastMessage=e.timestamp})),function(){t.emit("disconnect raw"),t.off("raw data"),t.disconnect()}}),[e]);var B=h.length/((Math.max.apply(Math,Object(z.a)(h))-Math.min.apply(Math,Object(z.a)(h)))/250+1);window.hundredthData=a,window.quarterlyData=l;var F={EHZ:Math.max.apply(Math,Object(z.a)(a.EHZ.map((function(e){return e.time})))),ENE:Math.max.apply(Math,Object(z.a)(a.ENE.map((function(e){return e.time})))),ENN:Math.max.apply(Math,Object(z.a)(a.ENN.map((function(e){return e.time})))),ENZ:Math.max.apply(Math,Object(z.a)(a.ENZ.map((function(e){return e.time})))),average:Math.max.apply(Math,Object(z.a)(l.average.map((function(e){return e.time})))),offset:Math.max.apply(Math,Object(z.a)(l.offset.map((function(e){return e.time})))),threshold:Math.max.apply(Math,Object(z.a)(l.threshold.map((function(e){return e.time}))))};return Object($.jsx)(f.a,{in:!0,children:Object($.jsx)("div",{children:Object($.jsxs)(H.a,{container:!0,spacing:3,style:{paddingBottom:"-20px"},children:[Object($.jsxs)(H.a,{item:!0,xs:4,children:[Object($.jsx)(A.a,{variant:"h6",children:"Connection:"}),Object($.jsxs)("div",{style:{paddingLeft:"10px"},children:[Object($.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[0===B?Object($.jsx)(le.a,{}):B<.5?Object($.jsx)(je.a,{}):B<.8?Object($.jsx)(be.a,{}):B<.9?Object($.jsx)(se.a,{}):Object($.jsx)(ce.a,{}),Object($.jsx)(A.a,{variant:"body1",style:{marginLeft:"10px"},children:0===B?"Connecting...":Math.round(100*B).toString()+"% of packets recieved"})]}),Object($.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object($.jsx)(ae.a,{}),Object($.jsxs)(A.a,{variant:"body1",style:{marginLeft:"10px"},children:["Latency: ",Math.round(g/100)/10," second",Math.round(g/100)/10===1?"":"s"]})]}),Object($.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object($.jsx)(me.a,{}),Object($.jsxs)(A.a,{variant:"body1",style:{marginLeft:"10px"},children:["Threshold met: ",k.toString()]})]}),Object($.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object($.jsx)(he.a,{}),Object($.jsxs)(A.a,{variant:"body1",style:{marginLeft:"10px"},children:["EHZ average / offset:"," ",0!==l.offset.length&&Math.round(l.offset[l.offset.length-1].value)," ","M EHZ / 10 ms"]})]}),Object($.jsx)(x.a,{onClick:function(){window.callAPI("offset","DELETE")},color:"primary",variant:"outlined",style:{marginTop:5},disabled:0!==window.user.permissions.live,startIcon:Object($.jsx)(we.a,{}),children:"Reset offset"}),Object($.jsx)(A.a,{style:{marginTop:"10px"},variant:"body1",children:"All y-axis represent strength in thousand counts per 10 milliseconds"})]})]}),Object($.jsx)(H.a,{item:!0,xs:8,children:Object($.jsxs)(R.a,{ref:D,style:{paddingLeft:"10px",display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object($.jsx)(A.a,{variant:"h6",style:{marginLeft:"40%"},children:"Detrended EHZ"}),Object($.jsxs)(fe.f,{width:M.width-210,height:190,children:[Object($.jsx)(fe.d,{}),Object($.jsx)(fe.b,{}),Object($.jsx)(fe.e,{title:"Time (seconds)"}),Object($.jsx)(fe.g,{}),Object($.jsx)(fe.c,{strokeWidth:1,color:"#0D676C",data:l.average.map((function(e){return{x:(F.average-e.time)/1e3,y:e.value}}))}),Object($.jsx)(fe.c,{strokeWidth:1,color:"#000000",data:l.threshold.map((function(e){return{x:(F.threshold-e.time)/1e3,y:e.value}}))})]}),Object($.jsx)(fe.a,{orientation:"vertical",width:200,items:[{title:"Threshold for quake",color:"#000000"},{title:"Average of detrended EHZ over 0.25s",color:"#0D676C"}]})]})}),Object.keys(a).map((function(e){return Object($.jsx)(H.a,{item:!0,xs:6,children:Object($.jsxs)(R.a,{style:{paddingLeft:"10px"},children:[Object($.jsxs)(A.a,{variant:"h6",style:{marginLeft:"40%"},children:["Channel ",e]}),Object($.jsxs)(fe.f,{width:U.width-20,height:190,children:[Object($.jsx)(fe.d,{}),Object($.jsx)(fe.b,{}),Object($.jsx)(fe.e,{title:"Time (seconds)"}),Object($.jsx)(fe.g,{}),Object($.jsx)(fe.c,{strokeWidth:1,data:a[e].map((function(t){return{x:(F[e]-t.time)/1e3,y:t.value}}))})]})]})})})),Object($.jsx)(H.a,{item:!0,xs:6,children:Object($.jsx)("div",{ref:P})})]})})})}n(295);var ke=n(138),Se=n.n(ke),Ae=n(137),Ee=n.n(Ae),Ce=n(110),Te=n.n(Ce),Ie=n(139),Ne=n.n(Ie),Pe=Object(k.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},title:{flexGrow:1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));function Ue(e){Pe();console.log("render overview");var t=r.a.useState([]),n=Object(j.a)(t,2),a=n[0],s=n[1],i=r.a.useState([]),c=Object(j.a)(i,2),o=c[0],u=c[1],b=r.a.useState(0),h=Object(j.a)(b,2),p=(h[0],h[1]),O=window.callAPI;return r.a.useEffect((function(){var e=Object(ge.io)(window.location.origin,{extraHeaders:{Authorization:window.user.token}});function t(){return(t=Object(d.a)(l.a.mark((function t(){var n,a,r,i,c,o,d,j,b,x,h;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O("clients","GET");case 2:if(n=t.sent,a=n.success,r=n.json,a){for(i=new Te.a,c={},o=[],j=0,b=Object.keys(r.socketio);j<b.length;j++)d=b[j],i.setUA(r.socketio[d].userAgent),c=i.getResult(),o.push({UA:c,user:r.socketio[d].user,sid:d});s(o),o=[],x=Object(B.a)(r.firebase);try{for(x.s();!(h=x.n()).done;)d=h.value,i.setUA(d.userAgent),c=i.getResult(),o.push({UA:c,token:d.token})}catch(l){x.e(l)}finally{x.f()}u(o),p(r.timestamp),e.emit("listen clients"),e.on("new client",(function(e){console.log("new client"),e.sid?s((function(t){return[].concat(Object(z.a)(t),[{UA:Te()(e.userAgent),user:e.user,sid:e.sid}])})):u((function(t){return[].concat(Object(z.a)(t),[{UA:Te()(e.userAgent),token:e.token}])}))})),e.on("remove client",(function(e){e.sid?s((function(t){return t.filter((function(t){return t.sid!==e.sid}))})):u((function(t){return t.filter((function(t){return t.token!==e.token}))}))}))}case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e.emit("disconnect clients"),e.off("new client"),e.off("remove client"),e.disconnect()}}),[]),r.a.useEffect((function(){e.setActiveTab(0)}),[]),console.log(a),Object($.jsx)(f.a,{in:!0,children:Object($.jsxs)("div",{children:[Object($.jsx)(A.a,{variant:"h4",style:{marginBlock:20},children:"Socket.io clients:"}),Object($.jsx)(H.a,{container:!0,spacing:2,children:a.map((function(e){return Object($.jsx)(H.a,{item:!0,xs:12,sm:6,lg:4,children:Object($.jsx)(R.a,{style:{width:"90%",padding:"16px"},children:Object($.jsxs)(H.a,{container:!0,spacing:2,children:[Object($.jsx)(H.a,{item:!0,xs:6,sm:4,children:"Android"===e.UA.os.name?Object($.jsx)(Ee.a,{style:{width:"100%",fontSize:"100px"}}):"Mac OS"===e.UA.os.name||"iOS"===e.UA.os.name?Object($.jsx)(Se.a,{style:{width:"100%",fontSize:"100px"}}):Object($.jsx)(Ne.a,{style:{width:"100%",fontSize:"100px"}})}),Object($.jsx)(H.a,{item:!0,xs:6,sm:8,children:Object($.jsxs)("div",{children:[Object($.jsxs)(A.a,{variant:"h6",children:[e.UA.browser.name," ",e.UA.browser.major," on"," ",e.UA.os.name," ",e.UA.os.version]}),Object($.jsx)(A.a,{variant:"body1",children:e.user.name}),Object($.jsx)(x.a,{onClick:function(){window.callAPI("alert/socketio","POST",{sid:e.sid},"Alert sent")},color:"primary",variant:"contained",style:{marginBlock:5},disabled:0!==window.user.permissions.config,children:"Send test alert"})]})})]})})})}))}),Object($.jsx)(A.a,{variant:"h4",style:{marginBlock:20},children:"Firebase clients:"}),Object($.jsx)(H.a,{container:!0,spacing:2,children:o.map((function(e){return Object($.jsx)(H.a,{item:!0,xs:12,sm:6,lg:4,children:Object($.jsx)(R.a,{style:{width:"100%",padding:"16px"},children:Object($.jsxs)(H.a,{container:!0,spacing:2,children:[Object($.jsx)(H.a,{item:!0,xs:6,sm:4,children:"Android"===e.UA.os.platform?Object($.jsx)(Ee.a,{style:{width:"100%",fontSize:"150px"}}):"Mac OS"===e.UA.os.platform||"iOS"===e.UA.os.platform?Object($.jsx)(Se.a,{style:{width:"100%",fontSize:"150px"}}):Object($.jsx)(Ne.a,{style:{width:"100%",fontSize:"150px"}})}),Object($.jsx)(H.a,{item:!0,xs:6,sm:8,children:Object($.jsxs)("div",{children:[Object($.jsxs)(A.a,{variant:"h5",children:[e.UA.browser.name," ",e.UA.browser.major," on"," ",e.UA.os.name," ",e.UA.os.version]}),Object($.jsx)(x.a,{onClick:function(){window.callAPI("subscription","DELETE",{token:e.token},"Client unsubscribed")},color:"primary",variant:"outlined",style:{marginBlock:5},disabled:0!==window.user.permissions.config,children:"unsubscribe"}),Object($.jsx)(x.a,{onClick:function(){window.callAPI("alert/firebase","POST",{token:e.token},"Alert sent")},color:"primary",variant:"contained",style:{marginBlock:5},disabled:0!==window.user.permissions.config,children:"Send test alert"})]})})]})})})}))})]})})}var qe=n(109),Le=n(108),De=n.n(Le),Me=n(201),Be=n.n(Me),ze=n(203),Fe=n.n(ze),Ge=n(202),We=n.n(Ge),_e=function(e){return Object.entries(e).map((function(e){return e.map(encodeURIComponent).join("=")})).join("&")};function Ze(e,t,n,a){return He.apply(this,arguments)}function He(){return(He=Object(d.a)(l.a.mark((function e(t,n,a,r){var s,i,o,d,j,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("API call:",t,n,a),e.next=3,fetch("/api/v1/"+t+(a?"?"+_e(a):""),{headers:{Authorization:window.user.token},method:n});case 3:if(s=e.sent,i=s.status,o=i.toString().startsWith("2"),e.t0=o&&204!==i,!e.t0){e.next=11;break}return e.next=10,s.json();case 10:e.t0=e.sent;case 11:if(d=e.t0,!o){e.next=16;break}r&&window.makeAlert(r,"success"),e.next=37;break;case 16:j=function(e){return window.makeAlert(e,"error")},e.t1=i,e.next=400===e.t1?20:401===e.t1?22:403===e.t1?26:404===e.t1?32:405===e.t1?34:36;break;case 20:return j("Bad request. If this is an error, try contacting Ben"),e.abrupt("break",37);case 22:return j("Invalid token, try signing in again"),delete localStorage.quakeUser,window.location.reload(),e.abrupt("break",37);case 26:return j("Insufficient permissions, refreshing permissions now. If this is an error persists, try contacting Ben"),e.next=29,Ze("users/me","GET");case 29:return(u=e.sent).success&&window.setUser((function(e){return Object(c.a)(Object(c.a)({},e),{},{permissions:u.json.permissions})})),e.abrupt("break",37);case 32:return j("Resource not found. If this is an error, try contacting Ben"),e.abrupt("break",37);case 34:return j("Invalid endpoint. If this is an error, try contacting Ben"),e.abrupt("break",37);case 36:j("Unknown error "+i+", try contacting Ben");case 37:return e.abrupt("return",{status:i,success:o,json:d});case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e){var t=Object(M.f)(),n=Object(M.g)().quakeID,a=r.a.useState(e.quakes[n]),s=Object(j.a)(a,2),i=s[0],c=s[1],o=Object(pe.a)(),u=Object(j.a)(o,2),b=u[0],h=u[1];return console.log("render quake"),r.a.useEffect((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze("quakes/"+n,"GET");case 2:t=e.sent,a=t.success,r=t.json,a&&c(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i&&i.data||function(){e.apply(this,arguments)}()}),[i,n]),Object($.jsx)(f.a,{in:!0,children:Object($.jsx)("div",{children:Object($.jsxs)(H.a,{container:!0,spacing:3,children:[Object($.jsxs)(H.a,{item:!0,xs:6,children:[Object($.jsx)(A.a,{variant:"h6",children:"Details:"}),i&&Object($.jsxs)("div",{style:{paddingLeft:"10px"},children:[Object($.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object($.jsx)(Be.a,{}),Object($.jsx)(A.a,{variant:"body1",style:{marginLeft:"10px"},children:new Date(i.timeStart).toDateString()})]}),Object($.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object($.jsx)(We.a,{}),Object($.jsxs)(A.a,{variant:"body1",style:{marginLeft:"10px"},children:[new Date(i.timeStart).toLocaleTimeString()," - ",new Date(i.timeEnd).toLocaleTimeString()]})]}),Object($.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object($.jsx)(ae.a,{}),Object($.jsxs)(A.a,{variant:"body1",style:{marginLeft:"10px"},children:[Math.round((i.timeEnd-i.timeStart)/100)/10," seconds"]})]}),Object($.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object($.jsx)(Fe.a,{}),Object($.jsxs)(A.a,{variant:"body1",style:{marginLeft:"10px"},children:[Math.round(i.strength/1e5)/10," million EHZ counts per second"]})]})]})]}),Object($.jsxs)(H.a,{item:!0,xs:6,children:[Object($.jsx)(A.a,{variant:"h6",children:"Actions:"}),i&&Object($.jsx)(x.a,{variant:"contained",color:"primary",style:{marginLeft:"10px"},startIcon:Object($.jsx)(De.a,{}),onClick:Object(d.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze("quakes/"+n,"DELETE",{},"Quake deleted");case 2:a=e.sent,a.success&&t.push("/quakes");case 5:case"end":return e.stop()}}),e)}))),disabled:0!==window.user.permissions.quakes,children:"Delete"})]}),Object($.jsxs)(H.a,{item:!0,xs:12,children:[Object($.jsx)(A.a,{variant:"h6",children:"Raw data:"}),Object($.jsx)(A.a,{style:{marginTop:"10px"},variant:"body1",children:"All y-axis represent strength in thousand counts per 10 milliseconds"})]}),["EHZ","ENE","ENN","ENZ"].map((function(e){return Object($.jsx)(H.a,{item:!0,xs:6,children:Object($.jsxs)(R.a,{style:{height:"202px"},children:[Object($.jsxs)(A.a,{variant:"h6",style:{marginLeft:"40%"},children:["Channel ",e]}),i&&i.data?Object($.jsxs)(fe.f,{width:h.width-20,height:170,children:[Object($.jsx)(fe.d,{}),Object($.jsx)(fe.b,{}),Object($.jsx)(fe.e,{title:"Time (seconds)"}),Object($.jsx)(fe.g,{}),Object($.jsx)(fe.c,{strokeWidth:1,data:i.data[e].map((function(e,t){return{x:t/100,y:e/1e3}}))})]}):Object($.jsx)("div",{width:h.width-20,height:170})]})})})),Object($.jsx)(H.a,{item:!0,xs:6,children:Object($.jsx)("div",{ref:b})})]})})})}function Je(e){var t=r.a.useState(0),n=Object(j.a)(t,2),a=n[0],s=n[1],i=r.a.useState([]),o=Object(j.a)(i,2),u=o[0],b=o[1],h=r.a.useState(!1),p=Object(j.a)(h,2),O=p[0],m=p[1],g=r.a.useState(1e3),v=Object(j.a)(g,2),w=v[0],y=v[1],k=e.setQuakes,S=Object(M.h)().path;console.log("render quakes list");var A=[{field:"id",headerName:"#",flex:1},{field:"strength",headerName:"Intensity (million EHZ counts per second)",flex:3.5,renderCell:function(e){return Math.round(e.value/1e5)/10}},{field:"date",headerName:"Date",flex:2.5,renderCell:function(e){return new Date(e.value).toDateString()}},{field:"timeStart",headerName:"Start time",flex:2,renderCell:function(e){return new Date(e.value).toLocaleTimeString()}},{field:"timeEnd",headerName:"End time",flex:2,renderCell:function(e){return new Date(e.value).toLocaleTimeString()}},{field:"view",headerName:" ",flex:1,renderCell:function(e){return Object($.jsx)(x.a,{component:D.b,to:S+"/"+e.value.toString(),children:"View"})}}];return r.a.useEffect((function(){function e(e,n){return t.apply(this,arguments)}function t(){return(t=Object(d.a)(l.a.mark((function e(t,n){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze("quakes","GET",{page:t,per_page:n});case 2:if(a=e.sent,r=a.success,s=a.json,!r){e.next=9;break}return k((function(e){var t,n,a=JSON.parse(JSON.stringify(e)),r=Object(B.a)(s.list);try{for(r.s();!(n=r.n()).done;)a[(t=n.value).id]=t}catch(i){r.e(i)}finally{r.f()}return console.log("quakes set"),a})),y(s.total),e.abrupt("return",s.list);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n=!0;return Object(d.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,e(a+1,100);case 3:if(r=t.sent.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{date:e.timeStart,view:e.id})})),n){t.next=6;break}return t.abrupt("return");case 6:b(r),m(!1);case 8:case"end":return t.stop()}}),t)})))(),function(){n=!1}}),[a,k]),Object($.jsx)(f.a,{in:!0,children:Object($.jsx)(R.a,{style:{height:"100%",width:"100%"},children:Object($.jsx)(qe.a,{rows:u,columns:A,pagination:!0,pageSize:100,rowCount:w,paginationMode:"server",onPageChange:function(e){s(e.page)},loading:O})})})}function Qe(e){var t=r.a.useState({}),n=Object(j.a)(t,2),a=n[0],s=n[1],i=Object(M.h)().path;return console.log("render quakes"),r.a.useEffect((function(){e.setActiveTab(1)}),[e]),Object($.jsx)("div",{style:{height:"90%"},children:Object($.jsxs)(M.c,{children:[Object($.jsx)(M.a,{path:i+"/:quakeID",children:Object($.jsx)(Re,{quakes:a})}),Object($.jsx)(M.a,{path:i,children:Object($.jsx)(Je,{setQuakes:s})})]})})}window.callAPI=Ze;var Ve=n(68),Ke=n(151),Xe=n(142),Ye=n.n(Xe),$e=Object(k.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},title:{flexGrow:1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{margin:-24,height:"100%"},selected:{backgroundColor:"#FFFFFF"}}}));function et(e){var t=r.a.useState(""),n=Object(j.a)(t,2),a=n[0],s=n[1],i=r.a.useState({users:2,quakes:1,config:1,live:1}),o=Object(j.a)(i,2),u=o[0],b=o[1];function h(){return(h=Object(d.a)(l.a.mark((function t(){var n,r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ze("users","POST",{email:a,permissions:JSON.stringify(u)},"User created");case 2:n=t.sent,r=n.success,s=n.json,r&&(e.setUsers((function(e){return[].concat(Object(z.a)(e),[s])})),e.setSelectedUser(s));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object($.jsxs)(R.a,{square:!0,style:{height:"calc(100% - 24px)",paddingLeft:"24px",paddingRight:"24px",paddingTop:"24px"},children:[Object($.jsxs)("div",{style:{height:"120px"},children:[Object($.jsx)(A.a,{variant:"h5",children:"Permissions:"}),Object($.jsx)(H.a,{container:!0,spacing:2,style:{marginTop:"0px"},children:[["users","Users: "],["quakes","Past quakes: "],["live","Live data: "],["config","Config: "]].map((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return Object($.jsxs)(H.a,{item:!0,xs:3,children:[Object($.jsx)(A.a,{variant:"body1",children:a}),u&&Object($.jsxs)(Ke.a,{value:u[n],onChange:function(e,t){b((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(F.a)({},n,t.props.value))}))},children:["quakes"!==n&&Object($.jsx)(Ve.a,{value:2,children:"None"}),Object($.jsx)(Ve.a,{value:1,children:"Read"}),Object($.jsx)(Ve.a,{value:0,children:"Write"})]})]})}))})]}),Object($.jsxs)("div",{style:{marginBottom:"20px"},children:[Object($.jsx)(A.a,{variant:"h5",style:{marginBottom:"10px"},children:"Email:"}),Object($.jsx)(Q.a,{onChange:function(e){s(e.target.value)},label:"New user email",variant:"outlined"})]}),Object($.jsx)(x.a,{onClick:function(){!function(){h.apply(this,arguments)}()},color:"primary",variant:"contained",startIcon:Object($.jsx)(Ye.a,{}),children:"Create"})]})}function tt(e){var t=r.a.useState(e.user),n=Object(j.a)(t,2),a=n[0],s=n[1],i=r.a.useState(!1),o=Object(j.a)(i,2),u=o[0],b=o[1],h=r.a.useState(),p=Object(j.a)(h,2),f=p[0],O=p[1];r.a.useEffect((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){var n,a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ze("users/"+e.user.email,"GET");case 2:n=t.sent,a=n.success,r=n.json,a&&(s(r),O(r.permissions));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}s(e.user),b(!1),O(void 0),function(){t.apply(this,arguments)}()}),[e.user]),r.a.useEffect((function(){u&&function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze("users/"+a.email+"/permissions","PUT",{permissions:JSON.stringify(f)},"Permissions updated");case 2:t=e.sent,n=t.success,r=t.json,n&&(s(r),O(r.permissions),b(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[u]);var m=a.logs&&a.logs.map((function(e,t){return Object(c.a)(Object(c.a)({},e),{},{id:t})})).sort((function(e,t){return t.timestamp-e.timestamp}))||[];console.log(m);var g=[{field:"timestamp",headerName:"Timestamp",flex:8,renderCell:function(e){return new Date(e.value).toLocaleString()}},{field:"endpoint",headerName:"Endpoint",flex:8},{field:"method",headerName:"Method",flex:6},{field:"parameters",headerName:"Parameters",flex:7,renderCell:function(e){return JSON.stringify(e.value)}}];return Object($.jsxs)(R.a,{square:!0,style:{height:"calc(100% - 24px)",paddingLeft:"24px",paddingRight:"24px",paddingTop:"24px"},children:[Object($.jsx)("div",{style:{height:"120px",marginTop:"0px"},children:Object($.jsxs)(H.a,{container:!0,spacing:2,style:{marginTop:"0px"},children:[Object($.jsxs)(H.a,{item:!0,xs:8,style:{marginTop:"0px"},children:[Object($.jsx)(A.a,{variant:"h5",children:"Permissions:"}),Object($.jsx)(H.a,{container:!0,spacing:2,style:{marginTop:"0px"},children:[["users","Users: "],["quakes","Past quakes: "],["live","Live data: "],["config","Config: "]].map((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return Object($.jsxs)(H.a,{item:!0,xs:3,children:[Object($.jsx)(A.a,{variant:"body1",children:a}),f&&Object($.jsxs)(Ke.a,{value:f[n],onChange:function(e,t){f[n]!==t.props.value&&(O((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(F.a)({},n,t.props.value))})),b(!0))},children:["quakes"!==n&&Object($.jsx)(Ve.a,{value:2,children:"None"}),Object($.jsx)(Ve.a,{value:1,children:"Read"}),Object($.jsx)(Ve.a,{value:0,children:"Write"})]})]})}))})]}),Object($.jsxs)(H.a,{item:!0,xs:4,style:{marginTop:"0px"},children:[Object($.jsx)(A.a,{variant:"h5",children:"Actions:"}),Object($.jsx)(x.a,{variant:"contained",color:"primary",style:{marginLeft:"10px",marginTop:"5px"},startIcon:Object($.jsx)(De.a,{}),onClick:Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ze("users/"+a.email,"DELETE",{},"User deleted");case 2:n=t.sent,n.success&&(e.setSelectedUser("new"),e.setUsers((function(e){return e.filter((function(e){return e.email!==a.email}))})));case 5:case"end":return t.stop()}}),t)}))),disabled:0!==window.user.permissions.users,children:"Delete"})]})]})}),Object($.jsxs)("div",{style:{height:"calc(100% - 200px)"},children:[Object($.jsx)(A.a,{variant:"h5",style:{marginBottom:"15px"},children:"Logs:"}),Object($.jsx)(qe.a,{rows:m,columns:g,loading:!a.logs})]})]})}function nt(e){console.log("render users");var t=$e(),n=r.a.useState(),a=Object(j.a)(n,2),s=a[0],i=a[1],c=r.a.useState("new"),o=Object(j.a)(c,2),u=o[0],x=o[1];return r.a.useEffect((function(){e.setActiveTab(2)}),[e]),r.a.useEffect((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze("users","GET");case 2:t=e.sent,n=t.success,a=t.json,n&&i(a.list);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object($.jsx)("div",{className:t.content,children:Object($.jsx)(f.a,{in:!0,style:{height:"100%"},children:Object($.jsx)("div",{style:{height:"100%"},children:Object($.jsxs)(H.a,{container:!0,spacing:0,style:{height:"100%"},children:[Object($.jsx)(H.a,{item:!0,xs:4,children:Object($.jsxs)(O.a,{component:"nav",disablePadding:!0,style:{height:"100%",backgroundColor:"rgba(0, 0, 0, 0.08)"},children:[s&&s.map((function(e){return Object($.jsxs)(m.a,{button:!0,style:{backgroundColor:u&&e.email===u.email&&"#FFFFFF",boxShadow:u&&e.email===u.email&&"-4px 0px 5px -2px #888"},selected:u&&e.email===u.email,onClick:function(){return x(e)},children:[Object($.jsx)(g.a,{children:Object($.jsx)(b.a,{src:e.picture})}),Object($.jsx)(v.a,{primary:e.name||e.email,secondary:e.name?e.email:"Awaiting first sign in to get details"})]})})),Object($.jsxs)(m.a,{button:!0,style:{backgroundColor:"new"===u&&"#FFFFFF",boxShadow:u&&"new"===u&&"-4px 0px 5px -2px #888"},selected:"new"===u,onClick:function(){return x("new")},children:[Object($.jsx)(g.a,{children:Object($.jsx)(Ye.a,{})}),Object($.jsx)(v.a,{primary:"Create new user"})]})]})}),Object($.jsx)(H.a,{item:!0,xs:8,style:{height:"100%"},children:"new"===u?Object($.jsx)(et,{setUsers:i,setSelectedUser:x}):s&&Object($.jsx)(tt,{setUsers:i,user:u,setSelectedUser:x})})]})})})})}var at=n(205),rt=n.n(at),st=Object(k.a)((function(e){return{root:{},contentRoot:{display:"flex",height:"100%"},appBar:{zIndex:e.zIndex.drawer+1},title:{flexGrow:1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:3,height:"calc(100vh - 64px)",padding:e.spacing(3)},popover:{width:e.spacing(40)},container:{display:"flex",padding:e.spacing(2),flexDirection:"column",alignItems:"center"},avatar:{width:e.spacing(6),height:e.spacing(6),margin:e.spacing(1)},userInfo:{display:"flex",flexDirection:"column",alignItems:"center",paddingLeft:e.spacing(1)},userName:{fontSize:"1rem",fontWeight:500},userEmail:{fontSize:"0.9rem"},bar:{padding:e.spacing(2),display:"flex",alignItems:"center",justifyContent:"center"},buttonSignout:{borderRadius:e.spacing(.5),padding:e.spacing(.5,2),fontSize:"0.8rem",fontWeight:500,textTransform:"none"}}}));function it(e){var t=st(),n=r.a.useState(-1),a=Object(j.a)(n,2),s=a[0],i=a[1];console.log("rerender"),window.setActiveTab=i,window.activeTab=s;var c=e.user||{permissions:{users:3,quakes:3,config:3,live:3}};return r.a.useEffect((function(){}),[e.user]),Object($.jsx)(D.a,{children:Object($.jsxs)("div",{className:t.contentRoot,children:[Object($.jsxs)(p.a,{className:t.drawer,variant:"permanent",classes:{paper:t.drawerPaper},children:[Object($.jsx)(S.a,{}),Object($.jsx)("div",{className:t.drawerContainer,children:Object($.jsxs)(O.a,{children:[Object($.jsxs)(m.a,{component:D.b,to:"/clients",selected:0===s,button:!0,disabled:0!==c.permissions.users,children:[Object($.jsx)(g.a,{children:Object($.jsx)(rt.a,{})}),Object($.jsx)(v.a,{primary:"Clients"})]},"Clients"),Object($.jsxs)(m.a,{component:D.b,to:"/quakes",selected:1===s,button:!0,disabled:c.permissions.quakes>1,children:[Object($.jsx)(g.a,{children:Object($.jsx)(I.a,{})}),Object($.jsx)(v.a,{primary:"Past Quakes"})]},"Past Quakes"),Object($.jsxs)(m.a,{component:D.b,to:"/users",selected:2===s,button:!0,disabled:c.permissions.users>1,children:[Object($.jsx)(g.a,{children:Object($.jsx)(C.a,{})}),Object($.jsx)(v.a,{primary:"Users"})]},"Users"),Object($.jsxs)(m.a,{component:D.b,to:"/live-data",selected:3===s,button:!0,disabled:c.permissions.live>1,children:[Object($.jsx)(g.a,{children:Object($.jsx)(q.a,{})}),Object($.jsx)(v.a,{primary:"Live Data"})]},"Live Data"),Object($.jsxs)(m.a,{component:D.b,to:"/config",selected:4===s,button:!0,disabled:c.permissions.config>1,children:[Object($.jsx)(g.a,{children:Object($.jsx)(P.a,{})}),Object($.jsx)(v.a,{primary:"Config"})]},"Config")]})})]}),Object($.jsxs)("main",{className:t.content,children:[Object($.jsx)(S.a,{}),Object($.jsxs)(M.c,{children:[Object($.jsx)(M.a,{path:"/live-data",children:c.permissions.live<2&&Object($.jsx)(ye,{setActiveTab:i})}),Object($.jsx)(M.a,{path:"/quakes",children:c.permissions.quakes<2&&Object($.jsx)(Qe,{setActiveTab:i})}),Object($.jsx)(M.a,{path:"/config",children:c.permissions.config<2&&Object($.jsx)(te,{setActiveTab:i})}),Object($.jsx)(M.a,{path:"/users",children:c.permissions.users<2&&Object($.jsx)(nt,{setActiveTab:i})}),Object($.jsx)(M.a,{path:"/clients",children:0===c.permissions.users&&Object($.jsx)(Ue,{setActiveTab:i})})]})]})]})})}function ct(e){var t=st(),n=e.user,a=r.a.useState(null),s=Object(j.a)(a,2),i=s[0],c=s[1];function o(){return(o=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/google-callback?token=".concat(t.credential),{method:"POST"});case 2:if(200!==(n=e.sent).status){e.next=11;break}return e.next=6,n.json();case 6:a=e.sent,window.setUser(a),window.makeAlert("Login succeeded","success"),e.next=12;break;case 11:window.makeAlert("Login error (1)","error");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return window.onGoogleSignIn=function(e){return o.apply(this,arguments)},Object($.jsx)(u.a,{position:"fixed",className:t.appBar,children:Object($.jsxs)(S.a,{children:[Object($.jsx)(A.a,{variant:"h6",className:t.title,children:"Quake Admin"}),n?Object($.jsx)(b.a,{alt:n.name,src:n.picture,onClick:function(e){c(e.currentTarget)},style:{cursor:"pointer"}}):Object($.jsxs)("div",{children:[Object($.jsx)("div",{id:"g_id_onload","data-client_id":"292473907562-ocu3lmgkumnsqlhn2ahv79tos40ngd73.apps.googleusercontent.com","data-context":"signin","data-ux_mode":"popup","data-callback":"onGoogleSignIn","data-auto_select":"true","data-close_on_tap_outside":"false"}),Object($.jsx)("div",{class:"g_id_signin","data-type":"standard","data-shape":"rectangular","data-theme":"outline","data-text":"signin_with","data-size":"large","data-logo_alignment":"left"})]}),n&&Object($.jsxs)(w.a,{open:!!i,anchorEl:i,onClose:function(){c(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:t.popover},children:[Object($.jsxs)("div",{className:t.container,children:[Object($.jsx)(b.a,{alt:n.name,className:t.avatar,src:n.picture}),Object($.jsxs)("div",{className:t.userInfo,children:[Object($.jsx)(A.a,{className:t.userName,variant:"h6",component:"span",color:"textPrimary",children:n.name}),Object($.jsx)(A.a,{className:t.userEmail,variant:"body1",component:"span",color:"textSecondary",children:n.email})]})]}),Object($.jsx)(h.a,{}),Object($.jsx)("div",{className:t.bar,children:Object($.jsx)(x.a,{variant:"outlined",size:"small",onClick:function(){delete localStorage.quakeUser,window.location.reload()},classes:{root:t.buttonSignout},children:"Sign out"})})]})]})})}var ot=function(){var e=st(),t=r.a.useState((function(){if(localStorage.quakeUser){try{var e=JSON.parse(localStorage.quakeUser)}catch(t){return void delete localStorage.quakeUser}return e.expiry<Date.now()?void delete localStorage.quakeUser:e}})),n=Object(j.a)(t,2),a=n[0],s=n[1],i=r.a.useState(""),o=Object(j.a)(i,2),u=o[0],b=o[1],x=r.a.useState(""),h=Object(j.a)(x,2),p=h[0],O=h[1],m=r.a.useState(!1),g=Object(j.a)(m,2),v=g[0],w=g[1];return window.user=a,window.setUser=s,r.a.useEffect((function(){localStorage.quakeUser=JSON.stringify(a)}),[a]),r.a.useEffect((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze("users/me","GET");case 2:(t=e.sent).success&&s((function(e){return Object(c.a)(Object(c.a)({},e),{},{permissions:t.json.permissions})}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a&&function(){e.apply(this,arguments)}()}),[]),window.makeAlert=function(e,t){b(e),O(t),w(!0)},Object($.jsx)(f.a,{in:!0,children:Object($.jsxs)("div",{className:e.root,children:[Object($.jsx)(ct,{user:a}),Object($.jsx)(it,{user:a}),Object($.jsx)(y.a,{open:v,autoHideDuration:5e3,onClose:function(){w(!1)},children:Object($.jsx)(L.a,{severity:p,onClose:function(){w(!1)},children:u})})]})})},lt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,359)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))};i.a.render(Object($.jsx)(r.a.StrictMode,{children:Object($.jsx)(ot,{})}),document.getElementById("root")),lt()}},[[300,1,2]]]);
//# sourceMappingURL=main.f5de25e4.chunk.js.map