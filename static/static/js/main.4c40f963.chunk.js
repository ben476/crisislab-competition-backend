(this.webpackJsonpadmin_frontend=this.webpackJsonpadmin_frontend||[]).push([[0],{150:function(e,t,n){},206:function(e,t,n){},209:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(12),s=n.n(r),c=(n(150),n(8)),o=n(257),l=n(255),d=n(258),j=n(259),h=n(244),b=n(251),u=n(266),x=n(256),p=n(48),O=n(265),f=n(11),g=n(129),m=n(253),y=n(246),v=n(248),k=n(249),w=n(250),S=n(252),C=n(210),I=n(2);function q(e){var t=Object(f.f)();return Object(I.jsx)(h.a,{in:!0,children:Object(I.jsx)("div",{style:{padding:20,marginBottom:50},children:Object(I.jsxs)(y.a,{container:!0,spacing:3,children:[Object(I.jsx)(y.a,{item:!0,xs:12,md:6,children:Object(I.jsxs)(C.a,{style:{padding:"15px 25px"},children:[Object(I.jsx)(p.a,{variant:"h6",children:"Be alert"}),Object(I.jsx)(p.a,{variant:"subtitle1",children:"Aftershocks are common"})]})}),Object(I.jsx)(y.a,{item:!0,xs:12,md:6,children:Object(I.jsxs)(C.a,{style:{padding:"15px 25px"},children:[Object(I.jsx)(p.a,{variant:"h6",children:"Stay safer after an earthquake"}),Object(I.jsxs)(v.a,{style:{marginInline:"-10px"},children:[Object(I.jsxs)(k.a,{children:[Object(I.jsx)(w.a,{children:Object(I.jsx)(b.a,{children:"do_not_step"})}),Object(I.jsx)(S.a,{primary:"\u200eGet shoes",secondary:"\u200eBefore going anywhere, even to the next room"})]}),Object(I.jsxs)(k.a,{children:[Object(I.jsx)(w.a,{children:Object(I.jsx)(b.a,{children:"local_fire_department"})}),Object(I.jsx)(S.a,{primary:"Check gas",secondary:"If you smell gas, turn off the gas main to the building. If you can't, evacuate."})]}),Object(I.jsxs)(k.a,{children:[Object(I.jsx)(w.a,{children:Object(I.jsx)(b.a,{children:"domain_disabled"})}),Object(I.jsx)(S.a,{primary:"Avoid damaged buildings",secondary:"\u200eCheck for cracks and damage. Evacuate if it looks like the building may collapse."})]})]})]})}),Object(I.jsx)(y.a,{item:!0,xs:12,md:6,children:window.quake&&window.quake.id?Object(I.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){return t.push("/quakes/"+window.quake.id)},children:"View quake details"}):Object(I.jsx)(p.a,{variant:"body1",children:"Check the Quakes tab to see details about this earthquake"})}),Object(I.jsx)(y.a,{item:!0,xs:12,md:6,children:Object(I.jsxs)(C.a,{style:{padding:"15px 25px"},children:[Object(I.jsx)(p.a,{variant:"h6",children:"More safety tips"}),Object(I.jsxs)(v.a,{style:{marginInline:"-10px"},children:[Object(I.jsxs)(k.a,{children:[Object(I.jsx)(w.a,{children:Object(I.jsx)(b.a,{children:"water_drop"})}),Object(I.jsx)(S.a,{primary:"\u200eGet your emergency supplies",secondary:"If water is shut off, use emergency supplies like a water heater or melted ice cubes"})]}),Object(I.jsxs)(k.a,{children:[Object(I.jsx)(w.a,{children:Object(I.jsx)(b.a,{children:"house"})}),Object(I.jsx)(S.a,{primary:"Use caution when cleaning up",secondary:Object(I.jsxs)(i.a.Fragment,{children:["\u2022 Put out small fires. If you can't, evacuate.",Object(I.jsx)("br",{}),"\u2022 Check electric, water pipes and appliances for damage. If you see broken pipe, shut off the main valve.",Object(I.jsx)("br",{}),"\u2022 Clean up spilled medicines, drugs, or other harmful materials"]})})]}),Object(I.jsxs)(k.a,{children:[Object(I.jsx)(w.a,{children:Object(I.jsx)(b.a,{children:"water"})}),Object(I.jsx)(S.a,{primary:"Move to higher ground",secondary:"\u200eIf you live in a coastal area, relocate as soon as the shaking stops to avoid tsunamis"})]}),Object(I.jsxs)(k.a,{children:[Object(I.jsx)(w.a,{children:Object(I.jsx)(b.a,{children:"report_problem"})}),Object(I.jsx)(S.a,{primary:"Avoid fallen objects",secondary:Object(I.jsxs)(i.a.Fragment,{children:["\u2022 Don't touch fallen or damaged utility lines",Object(I.jsx)("br",{}),"\u2022 Don't use a damaged chimney. Approach fallen or damaged chimneys with caution"]})})]}),Object(I.jsxs)(k.a,{children:[Object(I.jsx)(w.a,{children:Object(I.jsx)(b.a,{children:"refresh"})}),Object(I.jsx)(S.a,{primary:"Expect aftershocks",secondary:"\u200eYou may recieve an alert if an after shock is expected or happens."})]})]})]})})]})})})}function T(e){function t(e){window.open(e,"_blank").focus()}return i.a.useEffect((function(){e.setTab(2)}),[]),Object(I.jsx)(h.a,{in:!0,children:Object(I.jsx)("div",{style:{padding:20,marginBottom:50},children:Object(I.jsxs)(y.a,{container:!0,spacing:3,children:[Object(I.jsx)(y.a,{item:!0,xs:12,md:6,children:Object(I.jsxs)(C.a,{style:{padding:"15px 25px"},children:[Object(I.jsx)(p.a,{variant:"body1",children:"Remember to:"}),Object(I.jsx)(p.a,{variant:"h5",style:{fontWeight:600},children:"Drop, cover, and hold!"})]})}),Object(I.jsx)(y.a,{item:!0,xs:12,md:6,children:Object(I.jsxs)(C.a,{style:{padding:"15px 25px"},children:[Object(I.jsx)(p.a,{variant:"h6",children:"Get ready before an earthquake"}),Object(I.jsxs)(v.a,{style:{marginInline:"-10px"},children:[Object(I.jsxs)(k.a,{button:!0,divider:!0,onClick:function(){return t("https://getready.govt.nz/prepared/household/plan/")},children:[Object(I.jsx)(w.a,{children:Object(I.jsx)(b.a,{children:"assignment_turned_in"})}),Object(I.jsx)(S.a,{primary:"\u200eMake a emergency plan online",secondary:"Make a plan online with your family/flatmates/friends to get through an emergency. Think about the things you need every day and work out what you would do if you didn\u2019t have them."})]}),Object(I.jsxs)(k.a,{button:!0,divider:!0,onClick:function(){return t("https://www.eqc.govt.nz/be-prepared")},children:[Object(I.jsx)(w.a,{children:Object(I.jsx)(b.a,{children:"house"})}),Object(I.jsx)(S.a,{primary:"Be Prepared (eqc.govt.nz)",secondary:"Visit the Earthquake Commission's website for more information on making your home safer."})]}),Object(I.jsxs)(k.a,{button:!0,onClick:function(){return t("https://getready.govt.nz/prepared/household/supplies/")},children:[Object(I.jsx)(w.a,{children:Object(I.jsx)(b.a,{children:"water_drop"})}),Object(I.jsx)(S.a,{primary:"Work out what supplies you need",secondary:"\u200eIn an emergency, you may be stuck at home for three days or more. Figure out what supplies you need and make a plan to work out what you need to get your family through."})]})]})]})})]})})})}var E=n(131),A=n(28),F=n(35),W=n.n(F),D=n(58),B=n(254),M=n(133),_=n.n(M),L=n(136),N=n.n(L),G=n(135),z=n.n(G),P=n(134),Q=n.n(P),R=n(267),H=n(38),J=(n(206),function(e){return Object.entries(e).map((function(e){return e.map(encodeURIComponent).join("=")})).join("&")});function Z(e,t,n,a){return U.apply(this,arguments)}function U(){return(U=Object(D.a)(W.a.mark((function e(t,n,a,i){var r,s,c,o,l;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("API call:",t,n,a),e.next=3,fetch("/api/v1/"+t+(a?"?"+J(a):""),{method:n});case 3:if(r=e.sent,s=r.status,c=s.toString().startsWith("2"),e.t0=c&&204!==s,!e.t0){e.next=11;break}return e.next=10,r.json();case 10:e.t0=e.sent;case 11:if(o=e.t0,!c){e.next=16;break}i&&window.makeAlert(i,"success"),e.next=27;break;case 16:l=function(e){return window.makeAlert(e,"error")},e.t1=s,e.next=400===e.t1?20:404===e.t1?22:405===e.t1?24:26;break;case 20:return l("Bad request. If this is an error, try contacting Ben"),e.abrupt("break",27);case 22:return l("Resource not found. If this is an error, try contacting Ben"),e.abrupt("break",27);case 24:return l("Invalid endpoint. If this is an error, try contacting Ben"),e.abrupt("break",27);case 26:l("Unknown error "+s+", try contacting Ben");case 27:return e.abrupt("return",{status:s,success:c,json:o});case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.callAPI=Z;var V=Object(B.a)((function(e){return{classPage:{padding:e.spacing(6)},classSection:{marginTop:e.spacing(3)},classSectionItem:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},shine:{background:"#f6f7f8",backgroundImage:"linear-gradient(to right, #f6f7f8 0%, #edeef1 20%, #f6f7f8 40%, #f6f7f8 100%)",backgroundRepeat:"no-repeat",backgroundSize:"800px 104px",WebkitAnimationDuration:"0.5s",WebkitAnimationFillMode:"forwards",WebkitAnimationIterationCount:"infinite",WebkitAnimationName:"placeholderShimmer",WebkitAnimationTimingFunction:"linear",animationDuration:"0.5s",animationFillMode:"forwards",animationIterationCount:"infinite",animationName:"placeholderShimmer",animationTimingFunction:"linear"}}}));function K(e){var t=Object(f.f)(),n=Object(f.g)().quakeID,a=i.a.useState(e.quakes[n]),r=Object(c.a)(a,2),s=r[0],d=r[1],j=Object(R.a)(),u=Object(c.a)(j,2),O=u[0],g=u[1];return console.log("render quake"),i.a.useEffect((function(){function e(){return(e=Object(D.a)(W.a.mark((function e(){var t,a,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z("quakes/"+n,"GET");case 2:t=e.sent,a=t.success,i=t.json,a&&d(i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s&&s.data||function(){e.apply(this,arguments)}()}),[s,n]),Object(I.jsx)(h.a,{in:!0,children:Object(I.jsxs)("div",{style:{padding:20},children:[Object(I.jsx)(l.a,{children:Object(I.jsxs)(x.a,{children:[Object(I.jsx)(o.a,{onClick:function(){return t.goBack()},children:Object(I.jsx)(b.a,{fontSize:"large",style:{color:"#FFFFFF",marginLeft:-5},children:"arrow_back"})}),Object(I.jsxs)(p.a,{style:{marginLeft:10},variant:"h6",children:["Earthquake #",n]})]})}),Object(I.jsx)(x.a,{}),Object(I.jsxs)(y.a,{container:!0,spacing:3,children:[Object(I.jsxs)(y.a,{item:!0,xs:12,children:[Object(I.jsx)(p.a,{variant:"h6",children:"Details:"}),s&&Object(I.jsxs)("div",{style:{paddingLeft:"10px"},children:[Object(I.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object(I.jsx)(_.a,{}),Object(I.jsx)(p.a,{variant:"body1",style:{marginLeft:"10px"},children:new Date(s.timeStart).toDateString()})]}),Object(I.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object(I.jsx)(Q.a,{}),Object(I.jsxs)(p.a,{variant:"body1",style:{marginLeft:"10px"},children:[new Date(s.timeStart).toLocaleTimeString()," -"," ",new Date(s.timeEnd).toLocaleTimeString()]})]}),Object(I.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object(I.jsx)(z.a,{}),Object(I.jsxs)(p.a,{variant:"body1",style:{marginLeft:"10px"},children:[Math.round((s.timeEnd-s.timeStart)/100)/10," ","seconds"]})]}),Object(I.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object(I.jsx)(N.a,{}),Object(I.jsxs)(p.a,{variant:"body1",style:{marginLeft:"10px"},children:[Math.round(s.strength/1e5)/10," million EHZ counts per second"]})]})]})]}),Object(I.jsxs)(y.a,{item:!0,xs:12,children:[Object(I.jsx)(p.a,{variant:"h6",children:"Raw data:"}),Object(I.jsx)(p.a,{style:{marginTop:"10px"},variant:"body1",children:"All y-axis represent strength in thousand counts per 10 milliseconds"})]}),["EHZ","ENE","ENN","ENZ"].map((function(e){return Object(I.jsx)(y.a,{item:!0,xs:12,md:6,children:Object(I.jsxs)(C.a,{style:{height:"202px"},children:[Object(I.jsxs)(p.a,{variant:"h6",style:{marginLeft:"40%"},children:["Channel ",e]}),s&&s.data?Object(I.jsxs)(H.e,{width:g.width-20,height:170,children:[Object(I.jsx)(H.c,{}),Object(I.jsx)(H.a,{}),Object(I.jsx)(H.d,{title:"Time (seconds)"}),Object(I.jsx)(H.f,{}),Object(I.jsx)(H.b,{strokeWidth:1,data:s.data[e].map((function(e,t){return{x:t/100,y:e/1e3}}))})]}):Object(I.jsx)("div",{width:g.width-20,height:170})]})})})),Object(I.jsx)(y.a,{item:!0,xs:12,md:6,children:Object(I.jsx)("div",{ref:O})})]})]})})}function Y(e){var t=V(),n=function(e){var t=i.a.useRef(null),n=i.a.useState(!1),a=Object(c.a)(n,2),r=a[0],s=a[1];function o(e){var t=Object(c.a)(e,1)[0];s(t.isIntersecting)}return i.a.useEffect((function(){var n=new IntersectionObserver(o,e),a=t.current;return a&&n.observe(a),function(){a&&n.unobserve(a)}}),[t,e]),[t,r]}({root:null,rootMargin:"0px",threshold:.5}),a=Object(c.a)(n,2),r=a[0],s=a[1];return i.a.useEffect((function(){console.log("sdg"),s&&e.fetchQuakes()}),[s]),console.log("visibility",s),Object(I.jsxs)(i.a.Fragment,{children:[Object(I.jsxs)(k.a,{ref:r,divider:!0,button:!0,children:[Object(I.jsx)(w.a,{children:Object(I.jsx)("svg",{height:"40",width:"10",className:t.shine,children:Object(I.jsx)("line",{x1:"0",y1:"0",x2:"0",y2:"40",style:{strokeWidth:10}})})}),Object(I.jsx)(S.a,{primary:"\u200e",secondary:"\u200e",className:t.shine})]}),Object(A.a)(Array(9).keys()).map((function(e){return Object(I.jsxs)(k.a,{divider:!0,button:!0,children:[Object(I.jsx)(w.a,{children:Object(I.jsx)("svg",{height:"40",width:"10",className:t.shine,children:Object(I.jsx)("line",{x1:"0",y1:"0",x2:"0",y2:"40",style:{strokeWidth:10}})})}),Object(I.jsx)(S.a,{primary:"\u200e",secondary:"\u200e",className:t.shine})]})}))]})}function X(e){var t=i.a.useState(1e3),n=Object(c.a)(t,2),a=n[0],r=n[1],s=i.a.useState(1),o=Object(c.a)(s,2),l=o[0],d=o[1],j=e.setQuakes,b=e.quakes,u=Object(f.f)();function x(){return p.apply(this,arguments)}function p(){return(p=Object(D.a)(W.a.mark((function e(){var t,n,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d((function(e){return e+1})),e.next=3,Z("quakes","GET",{page:l,per_page:40});case 3:t=e.sent,n=t.success,a=t.json,n&&(j((function(e){var t,n,i=JSON.parse(JSON.stringify(e)),r=Object(E.a)(a.list);try{for(r.s();!(n=r.n()).done;)i[(t=n.value).id]=t}catch(s){r.e(s)}finally{r.f()}return console.log("quakes set"),i})),r(a.total));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){var t=e/1e3,n=Math.floor(t/31536e3),a=Math.floor(t%31536e3/86400),i=Math.floor(t%31536e3%86400/3600),r=Math.floor(t%31536e3%86400%3600/60),s=t%31536e3%86400%3600%60;return n>=1?n+" year"+(1===n?"":"s"):a>=1?a+" day"+(1===a?"":"s"):i>=1?i+" hour"+(1===i?"":"s"):r>=1?r+" minute"+(1===r?"":"s"):s+" second"+(1===s?"":"s")}return console.log("render quakes list"),console.log(b),i.a.useEffect((function(){window.currentPage=1,x()}),[]),Object(I.jsx)(h.a,{in:!0,children:Object(I.jsx)(C.a,{style:{width:"100%"},children:Object(I.jsxs)(v.a,{children:[Object.keys(b).sort((function(e,t){return t-e})).map((function(e){var t=b[e];return Object(I.jsxs)(k.a,{divider:!0,button:!0,onClick:function(){return u.push("/quakes/"+e)},children:[Object(I.jsx)(w.a,{children:Object(I.jsx)("svg",{height:"40",width:"10",children:Object(I.jsx)("line",{x1:"0",y1:"0",x2:"0",y2:"40",stroke:"rgb(217, 72, 1, "+Math.min(t.strength/1e8,1)+")",style:{strokeWidth:10}})})}),Object(I.jsx)(S.a,{primary:O(Date.now()-t.timeStart)+" ago",secondary:"#"+e+" \u2022 "+Math.ceil(t.strength/1e6)+" million EHZ counts per second"})]})})),Object.keys(b).length<=a&&Object(I.jsx)(Y,{fetchQuakes:x})]})})})}function $(e){var t=i.a.useState({}),n=Object(c.a)(t,2),a=n[0],r=n[1],s=Object(f.h)().path;return console.log("render quakes"),i.a.useEffect((function(){e.setTab(1)}),[]),Object(I.jsx)("div",{style:{height:"90%"},children:Object(I.jsxs)(f.c,{children:[Object(I.jsx)(f.a,{path:s+"/:quakeID",children:Object(I.jsx)(K,{quakes:a})}),Object(I.jsx)(f.a,{path:s,children:Object(I.jsx)(X,{setQuakes:r,quakes:a})})]})})}var ee=n(264),te=n(263),ne=n(261),ae=n(262),ie=n(260);function re(e){var t=Object(f.f)(),n=i.a.useState(!1),a=Object(c.a)(n,2),r=a[0],s=a[1],l=i.a.useState((function(){var e=new AudioContext,t=e.createOscillator(),n=e.createGain();return t.connect(n),t.type="square",n.connect(e.destination),t})),d=Object(c.a)(l,2),j=d[0],u=d[1],x=e.socket;function O(){j.stop();var e=new AudioContext,t=e.createOscillator(),n=e.createGain();t.connect(n),t.type="square",n.connect(e.destination),u(t)}return i.a.useEffect((function(){return x.on("shaking start",(function(){s(!0),j.start(0),window.navigator.vibrate&&window.navigator.vibrate(1e3)})),x.on("shaking stop",(function(e){s(!1),window.quake=e,O(),t.push("/after")})),function(){x.off("shaking start"),x.off("shaking stop")}}),[j]),i.a.useEffect((function(){var e=setInterval((function(){r&&window.navigator.vibrate&&window.navigator.vibrate(500)}),100);return function(){return clearInterval(e)}}),[r]),Object(I.jsx)(h.a,{in:r,children:Object(I.jsxs)("div",{style:{position:"fixed",width:"100vw",height:"100vh",zIndex:99999999},children:[Object(I.jsxs)("div",{style:{backgroundColor:"rgb(200, 30, 30)",width:"100%",paddingTop:"min(60px, 5vh)",paddingBottom:"min(60px, 30vh)",textAlign:"center",color:"white",height:"15vh"},children:[Object(I.jsx)(b.a,{fontSize:"large",style:{margin:"auto"},children:"warning"}),Object(I.jsx)(p.a,{variant:"h3",style:{margin:"auto",marginTop:10},children:"Earthquake"})]}),Object(I.jsx)("div",{style:{backgroundColor:"black",width:"100%",height:"100%",textAlign:"center",color:"white"},children:Object(I.jsxs)("div",{style:{paddingTop:10},children:[Object(I.jsxs)("div",{style:{marginTop:10,position:"relative",height:"15vh"},children:[Object(I.jsx)(p.a,{variant:"h4",style:{fontWeight:600,position:"absolute",width:"50%",top:"min(8vw, 7vh)",float:"left",left:0},children:"Drop"}),Object(I.jsx)("img",{style:{width:"min(45%, 30vh)",position:"absolute",right:40},src:"/drop.png"})]}),Object(I.jsxs)("div",{style:{marginTop:10,position:"relative",height:"15vh"},children:[Object(I.jsx)(p.a,{variant:"h4",style:{fontWeight:600,position:"absolute",width:"50%",top:"min(8vw, 7vh)",float:"left",left:0},children:"Cover"}),Object(I.jsx)("img",{style:{width:"min(45%, 30vh)",position:"absolute",right:40},src:"/cover.png"})]}),Object(I.jsxs)("div",{style:{marginTop:10,position:"relative",height:"15vh"},children:[Object(I.jsx)(p.a,{variant:"h4",style:{fontWeight:600,position:"absolute",width:"50%",top:"min(8vw, 7vh)",float:"left",left:0},children:"Hold"}),Object(I.jsx)("img",{style:{width:"min(45%, 30vh)",position:"absolute",right:40},src:"/hold.png"})]}),Object(I.jsxs)("div",{style:{marginTop:"2vh",height:"10vh"},children:[Object(I.jsx)(o.a,{onClick:function(){return t.push("/after"),s(!1),O()},children:Object(I.jsx)(b.a,{fontSize:"large",style:{margin:"auto",color:"white"},children:"clear"})}),Object(I.jsx)(p.a,{variant:"subtitle1",style:{margin:"auto"},children:"Dismiss"})]})]})})]})})}function se(e){return Object(I.jsx)(h.a,{in:!0,children:Object(I.jsxs)("div",{children:[e.isNative?Object(I.jsx)("div",{style:{height:76}}):Object(I.jsx)(l.a,{style:{padding:10,backgroundColor:e.connected?"green":"orange"},position:"static",children:Object(I.jsx)(x.a,{children:Object(I.jsxs)(p.a,{variant:"h5",children:["Status: ",e.connected?"Connected":"Connecting..."]})})}),Object(I.jsxs)("div",{style:{padding:20},children:[Object(I.jsx)(p.a,{variant:"h5",style:{marginBlock:10},children:"Thanks for using Quake Alert!"}),Object(I.jsxs)(p.a,{variant:"body1",style:{marginBlock:10},children:["In a natural disaster or emergency, every second counts. That's why this app was made, to give you, and others, the few critical seconds needed to get to safety.",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"For now, have a look around the app, and when the time comes, remember to ",Object(I.jsx)("b",{children:"drop, cover, and hold"}),"."]})]})]})})}var ce=function(){var e=i.a.useState(""),t=Object(c.a)(e,2),n=t[0],a=t[1],r=i.a.useState(""),s=Object(c.a)(r,2),o=s[0],l=s[1],x=i.a.useState(!1),p=Object(c.a)(x,2),y=p[0],v=p[1],k=window.location.search.includes("native=true"),w=i.a.useState(!!k),S=Object(c.a)(w,2),C=S[0],E=S[1],A=i.a.useState((function(){return!k&&Object(g.io)()})),F=Object(c.a)(A,2),W=F[0],D=(F[1],Object(f.f)()),B=navigator.userAgent.toLowerCase().indexOf("android")>-1,M=i.a.useState(!1),_=Object(c.a)(M,2),L=_[0],N=_[1],G=i.a.useState(!L),z=Object(c.a)(G,2),P=z[0],Q=z[1];console.log("is native",k),console.log("is android",B);var R=i.a.useState(0),H=Object(c.a)(R,2),J=H[0],Z=H[1];window.makeAlert=function(e,t){a(e),l(t),v(!0)};var U=["/","/quakes","/get-ready"];return i.a.useEffect((function(){if(!k)return W.on("connect",(function(){E(!0)})),W.on("disconnect",(function(){E(!1)})),function(){W.off("connect"),W.off("disconnect")}}),[]),Object(I.jsx)(h.a,{in:!0,children:Object(I.jsxs)("div",{children:[Object(I.jsx)(u.a,{open:y,autoHideDuration:5e3,onClose:function(){v(!1)},children:Object(I.jsx)(O.a,{severity:o,onClose:function(){v(!1)},children:n})}),!k&&Object(I.jsx)(re,{socket:W}),Object(I.jsxs)(f.c,{children:[Object(I.jsx)(f.a,{path:"/quakes",children:Object(I.jsx)($,{setTab:Z})}),Object(I.jsx)(f.a,{path:"/get-ready",children:Object(I.jsx)(T,{setTab:Z})}),Object(I.jsx)(f.a,{path:"/after",children:Object(I.jsx)(q,{setTab:Z})}),Object(I.jsx)(f.a,{path:"/",children:Object(I.jsx)(se,{setTab:Z,connected:C,isNative:k})})]}),Object(I.jsxs)(d.a,{value:J,onChange:function(e,t){Z(t),D.push(U[t])},showLabels:!0,style:{width:"100%",bottom:0,position:"fixed"},children:[Object(I.jsx)(j.a,{label:"Alerts",icon:Object(I.jsx)(b.a,{children:"notifications"})}),Object(I.jsx)(j.a,{label:"Quakes",icon:Object(I.jsx)(b.a,{children:"public"})}),Object(I.jsx)(j.a,{label:"Get Ready",icon:Object(I.jsx)(b.a,{children:"backpack"})})]}),Object(I.jsxs)(ee.a,{open:L,onClose:function(){return N(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(I.jsx)(ie.a,{id:"alert-dialog-title",children:"Get the app!"}),Object(I.jsx)(ne.a,{children:Object(I.jsx)(ae.a,{id:"alert-dialog-description",children:"Getting the app allows you to get alerts even when the app is closed."})}),Object(I.jsxs)(te.a,{children:[Object(I.jsx)(m.a,{onClick:function(){return N(!1)},color:"primary",children:"Stay on web"}),Object(I.jsx)(m.a,{onClick:function(){return window.open("/quake-alert.apk","_blank").focus(),N(!1)},color:"primary",variant:"contained",autoFocus:!0,children:"Download"})]})]}),Object(I.jsxs)(ee.a,{open:P,onClose:function(){return Q(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(I.jsx)(ie.a,{id:"alert-dialog-title",children:"This app is in development!"}),Object(I.jsx)(ne.a,{children:Object(I.jsx)(ae.a,{id:"alert-dialog-description",children:"This app is currently in development, and as of now is unsuitable for production use."})}),Object(I.jsx)(te.a,{children:Object(I.jsx)(m.a,{onClick:function(){return Q(!1)},color:"primary",children:"OK"})})]})]})})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,268)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))},le=n(54);s.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(le.a,{children:Object(I.jsx)(ce,{})})}),document.getElementById("root")),oe()}},[[209,1,2]]]);
//# sourceMappingURL=main.4c40f963.chunk.js.map